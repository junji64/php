<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>PHP - AJAX and PHP</title>
    <style>a.menu_html_intro{font-weight:bold;}</style>
    <meta name="viewport" content="width=device-width">
    <meta name="Keywords" content="HTML,CSS,XML,JavaScript,DOM,jQuery,ASP.NET,PHP,SQL,colors,tutorial,programming,development,training,learning,quiz,primer,lessons,reference,w3-examples,source code,demos,tips,color table,w3c,cascading style sheets,active server pages,Web building,Webmaster">
    <meta name="Description" content="Free HTML CSS JavaScript DOM jQuery XML AJAX RSS ASP .NET PHP SQL tutorials, references, examples for web building.">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" type="text/css" href="http://www.w3schools.com/stdtheme.css">
    <script>
function showHint(str)
{
if (str.length==0)
  { 
  document.getElementById("txtHint").innerHTML="";
  return;
  }
var xmlhttp=new XMLHttpRequest();
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","gethint.php?q="+str,true);
xmlhttp.send();
}
</script> 
    
  </head>
  <body>
    <div id="belowTopnav" style="width:auto">
      <div id="page" style="width:auto; padding:30px; margin:10px;">
        <div>
          <div id="main" style="width:auto">
            <h1>PHP - <span class="color_h1">AJAX and PHP</span></h1>
            <div class="chapter">
              <div class="w3-clear nextprev"> <a class="w3-left w3-btn" href="AJAX%20Introduction.html">«
                  Previous</a> <a class="w3-right w3-btn" href="PHP%20Example%20AJAX%20and%20MySQL.html">Next
                  Chapter »</a> </div>
            </div>
            <hr>
            <p class="intro">AJAX 는 보다 더 대화형의 응용프로그램을 만드는데 사용됩니다.&nbsp;</p>
            <hr>
            <h2>AJAX PHP Example</h2>
            <p>다음의 예는 사용자가 입력 필드에 문자를 입력할 때 웹페이지가 웹서버와 어떻게 통신하는지를 보여줍니다.:</p>
            <div class="w3-example">
              <h2 class="example">Example</h2>
              <div class="w3-code notranslate">
                <p><b>Start typing a name in the input field below:</b></p>
                <form action=""> First name: <input id="txt1" onkeyup="showHint(this.value)"

                    size="20" type="text"> </form>
                <p>Suggestions: <span id="txtHint"></span></p>
              </div>
              <br>
            </div>
            <br>
            <hr>
            <h2>Example Explained - The HTML Page</h2>
            <p>위의 입력 필드에 사용자가 문자를 입력할 때, "showHint()" 함수가 실행된다. 함수는 "onkeyup"
              이벤트에 의해서 트리거된다.:</p>
            <div class="w3-code notranslate">
              <div> &lt;html&gt;<br>
                &lt;head&gt;<br>
                &lt;script&gt;<br>
                function showHint(str)<br>
                {<br>
                if (str.length==0)<br>
                &nbsp; { <br>
                &nbsp; document.getElementById("txtHint").innerHTML="";<br>
                &nbsp; return;<br>
                &nbsp; }<br>
                var xmlhttp=new XMLHttpRequest();<br>
                xmlhttp.onreadystatechange=function()<br>
                &nbsp; {<br>
                &nbsp; if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)<br>
                &nbsp;&nbsp;&nbsp; {<br>
                &nbsp;&nbsp;&nbsp;
                document.getElementById("txtHint").innerHTML=xmlhttp.responseText;<br>
                &nbsp;&nbsp;&nbsp; }<br>
                &nbsp; }<br>
                xmlhttp.open("GET","gethint.php?q="+str,true);<br>
                xmlhttp.send();<br>
                }<br>
                &lt;/script&gt;<br>
                &lt;/head&gt;<br>
                &lt;body&gt;<br>
                <br>
                &lt;p&gt;&lt;b&gt;Start typing a name in the input field
                below:&lt;/b&gt;&lt;/p&gt;<br>
                &lt;form&gt; <br>
                First name: &lt;input type="text"
                onkeyup="showHint(this.value)"&gt;<br>
                &lt;/form&gt;<br>
                &lt;p&gt;Suggestions: &lt;span
                id="txtHint"&gt;&lt;/span&gt;&lt;/p&gt;<br>
                <br>
                &lt;/body&gt;<br>
                &lt;/html&gt;</div>
            </div>
            <p>소스 코드 설명:</p>
            <p>입력 필드가 비어 있으면 (str.length==0), 함수는 txtHint 자리의 내용을 클리어하고 함수를
              종료한다.&nbsp;</p>
            <p>입력 필드가 비어 있지 않으면, showHint() 함수는 다음을 실행한다.:</p>
            <ul>
              <li>XMLHttpRequest 객체를 생성</li>
              <li>서버 응답이 준비 되었을 때 실행될 함수를 생성.</li>
              <li>서버의 파일에 요청을 보내기</li>
              <li>파라메타(q)가 (입력 필드의 내용과 함께) URL에 추가 된 것을 주목하시오</li>
            </ul>
            <hr>
            <h2>PHP File</h2>
            <p>위의 JavaScript 에 의해서 호출된 서버의 페이지는 "gethint.php" 라는 PHP 파일입니다.</p>
            <p>"gethint.php" 의 소스 코드는 이름들 배열을 확인하고, 해당하는 이름들을 브라우져에게 반환한다. :</p>
            <div class="w3-code notranslate">
              <div> &lt;?php<br>
                // Fill up array with names<br>
                $a[]="Anna";<br>
                $a[]="Brittany";<br>
                $a[]="Cinderella";<br>
                $a[]="Diana";<br>
                $a[]="Eva";<br>
                $a[]="Fiona";<br>
                $a[]="Gunda";<br>
                $a[]="Hege";<br>
                $a[]="Inga";<br>
                $a[]="Johanna";<br>
                $a[]="Kitty";<br>
                $a[]="Linda";<br>
                $a[]="Nina";<br>
                $a[]="Ophelia";<br>
                $a[]="Petunia";<br>
                $a[]="Amanda";<br>
                $a[]="Raquel";<br>
                $a[]="Cindy";<br>
                $a[]="Doris";<br>
                $a[]="Eve";<br>
                $a[]="Evita";<br>
                $a[]="Sunniva";<br>
                $a[]="Tove";<br>
                $a[]="Unni";<br>
                $a[]="Violet";<br>
                $a[]="Liza";<br>
                $a[]="Elizabeth";<br>
                $a[]="Ellen";<br>
                $a[]="Wenche";<br>
                $a[]="Vicky";<br>
                <br>
                // get the q parameter from URL<br>
                $q=$_REQUEST["q"]; $hint="";<br>
                <br>
                // lookup all hints from array if $q is different from "" <br>
                if ($q !== "")<br>
                &nbsp; { $q=strtolower($q); $len=strlen($q);<br>
                &nbsp;&nbsp;&nbsp; foreach($a as $name)<br>
                &nbsp;&nbsp;&nbsp; { if (stristr($q, substr($name,0,$len)))<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { if ($hint==="")<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { $hint=$name; }<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { $hint .= ", $name";
                }<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
                &nbsp;&nbsp;&nbsp; }<br>
                &nbsp; }<br>
                <br>
                // Output "no suggestion" if no hint were found<br>
                // or output the correct values <br>
                echo $hint==="" ? "no suggestion" : $hint;<br>
                ?&gt; </div>
            </div>
            <br>
            <br>
            <div class="chapter">
              <div class="w3-clear nextprev"> <a class="w3-left w3-btn" href="AJAX%20Introduction.html">«
                  Previous</a> <a class="w3-right w3-btn" href="PHP%20Example%20AJAX%20and%20MySQL.html">Next
                  Chapter »</a> </div>
            </div>
            <hr> </div>
        </div>
      </div>
    </div>
  </body>
</html>
