<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>PHP File Handling - Open/Read/Close</title>
    <style>a.menu_html_intro{font-weight:bold;}</style>
    <meta name="viewport" content="width=device-width">
    <meta name="Keywords" content="HTML,CSS,XML,JavaScript,DOM,jQuery,ASP.NET,PHP,SQL,colors,tutorial,programming,development,training,learning,quiz,primer,lessons,reference,w3-examples,source code,tryphps,tips,color table,w3c,cascading style sheets,active server pages,Web building,Webmaster">
    <meta name="Description" content="Free HTML CSS JavaScript DOM jQuery XML AJAX RSS ASP .NET PHP SQL tutorials, references, examples for web building.">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" type="text/css" href="http://www.w3schools.com/stdtheme.css">
  </head>
  <body>
    <div id="belowTopnav" style="width:auto">
      <div id="page" style="width:auto; padding:30px; margin:10px;">
        <div>
          <div id="main" style="width:auto">
            <h1>PHP <span class="color_h1">File Handling </span><span class="color_h1">-
                Open/Read/Close</span></h1>
            <div class="w3-clear nextprev"> <a class="w3-left w3-btn" href="PHP%20include%20and%20require.htm">«
                Previous</a> <a class="w3-right w3-btn" href="PHP%20File%20Create%20Write.html">Next
                Chapter »</a> </div>
            <hr>
            <p class="intro">파일 처리는 웹 응용프로그램의 중요한 부분입니다. 우리는 종종 다른 작업을 위해서 파일을
              열고 처리해야 할 필요가 있습니다.</p>
            <p class="intro">이 장에서는 서버의 파일을 열고, 읽고, 쓰고, 닫는 방법을 설명한다. </p>
            <hr>
            <h2>PHP Manipulating Files</h2>
            <p>PHP 는 파일을 생성, 읽기, 업로드 그리고 편집을 위한 몇 가지 함수가 있습니다.&nbsp;</p>
            <div class="w3-panel w3-note">
              <p><strong>&nbsp;파일을 다룰 때 주의하시오!<br>
                  <br>
                  &nbsp; </strong>파일을 다룰 때 매우 조심해야 합니다. 뭔가를 잘못하면 많은 손상을 가져 올 수
                있습니다. 일반적인 오류로는 다음과 같은 것들이 있다 : 잘못된 파일 편집, 쓰레기 데이타로 하드-드라이버를
                채우기, 실수로 내용을 삭제.</p>
            </div>
            <br>
            <hr>
            <h2>PHP readfile() Function</h2>
            <p>readfile() 함수는 파일을 읽고, 그것을 출력 버퍼에 쓴다.</p>
            <p>다음과 같은, 서버에 저장된 "webdictionary.txt" 라 부르는 텍스트 파일을 가정하자:</p>
            <div class="w3-code w3-border notranslate">
              <div> AJAX = Asynchronous JavaScript and XML<br>
                CSS = Cascading Style Sheets<br>
                HTML = Hyper Text Markup Language<br>
                PHP = PHP Hypertext Preprocessor<br>
                SQL = Structured Query Language<br>
                SVG = Scalable Vector Graphics<br>
                XML = EXtensible Markup Language</div>
            </div>
            <p>그 파일을 읽고 출력 버퍼에 쓰는 PHP 코드는 다음과 같다 ( readfile() 함수는 읽기에 성공한 바이트 수
              만큼을 반환한다.):</p>
            <div class="w3-example">
              <h2 class="example">Example</h2>
              <div class="w3-code notranslate"> &lt;?php<br>
                echo readfile("webdictionary.txt");<br>
                ?&gt; </div>
              <br>
              <a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_readfile">Run
                example »</a> </div>
            <p>readfile() 함수는 한 파일을 열고 그 내용을 읽는 것이 원하는 전부라면 유용한다.&nbsp;</p>
            <hr>
            <h2>PHP Open File - fopen()</h2>
            <p>파일을 여는 더 좋은 방법이 fopen() 함수이다. 이 함수는 readfile() 함수보다 더 많은 옵션을
              제공한다.&nbsp;</p>
            <p>다음과 같은 "webdictionary.txt" 라 부르는 텍스트 파일을 사용하자 :</p>
            <div class="w3-code w3-border notranslate">
              <div> AJAX = Asynchronous JavaScript and XML<br>
                CSS = Cascading Style Sheets<br>
                HTML = Hyper Text Markup Language<br>
                PHP = PHP Hypertext Preprocessor<br>
                SQL = Structured Query Language<br>
                SVG = Scalable Vector Graphics<br>
                XML = EXtensible Markup Language</div>
            </div>
            <p>fopen() 의 첫 번째 매개변수는 열 파일의 이름을 지정하며, 두 번째 매개변수는 열 때의 모드(mode)를
              지정한다. 다음의 예는 fopen() 함수가 지정한 파일을 열 수 없을 때 메시지를 생성합니다.:</p>
            <div class="w3-example">
              <h2 class="example">Example</h2>
              <div class="w3-code notranslate"> &lt;?php<br>
                $myfile = fopen("webdictionary.txt", "r") or die("Unable to open
                file!");<br>
                echo fread($myfile,filesize("webdictionary.txt"));<br>
                fclose($myfile);<br>
                ?&gt; </div>
              <br>
              <a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_fopen">Run
                example »</a> </div>
            <p><strong>Tip:</strong> fread() 와 fclose() 함수는 아래에서 설명한다. </p>
            <p>파일은 다음의 모드(modes)들 중의 하나로 열 수 있다. :</p>
            <table class="w3-table-all  notranslate">
              <tbody>
                <tr>
                  <th style="width:10%">Modes</th>
                  <th style="width:90%">Description</th>
                </tr>
                <tr>
                  <td>r</td>
                  <td><strong>Open a file for read only</strong>. File pointer
                    starts at the beginning of the file</td>
                </tr>
                <tr>
                  <td>w</td>
                  <td><strong>Open a file for write only</strong>. Erases the
                    contents of the file or creates a new file if it doesn't
                    exist. File pointer starts at the beginning of the file</td>
                </tr>
                <tr>
                  <td>a</td>
                  <td><strong>Open a file for write only</strong>. The existing
                    data in file is preserved. File pointer starts at the end of
                    the file. Creates a new file if the file doesn't exist</td>
                </tr>
                <tr>
                  <td>x</td>
                  <td><strong>Creates a new file for write only</strong>.
                    Returns FALSE and an error if file already exists</td>
                </tr>
                <tr>
                  <td>r+</td>
                  <td><strong>Open a file for read/write</strong>. File pointer
                    starts at the beginning of the file</td>
                </tr>
                <tr>
                  <td>w+</td>
                  <td><strong>Open a file for read/write</strong>. Erases the
                    contents of the file or creates a new file if it
                    doesn't exist. File pointer starts at the beginning of the
                    file</td>
                </tr>
                <tr>
                  <td>a+</td>
                  <td><strong>Open a file for read/write</strong>. The <strong>existing
                      data</strong> in file is <strong>preserved</strong>. File
                    pointer <strong>starts at the end of the file</strong>.
                    Creates a new file if the file doesn't exist</td>
                </tr>
                <tr>
                  <td>x+</td>
                  <td><strong>Creates a new file for read/write</strong>.
                    Returns FALSE and an error if file already exists</td>
                </tr>
              </tbody>
            </table>
            <br>
            <hr>
            <h2>PHP Read File - fread()</h2>
            <p><strong>fread()</strong> 함수는 열린 파일에서 읽습니다.</p>
            <p>fread()의 첫 번째 매개변수는 읽을 <strong>파일의 이름</strong>을 포함하며, 두 번째 매개변수는
              <strong>읽은 최대 바이트(bytes) 수</strong>를 지정한다.&nbsp;&nbsp;</p>
            <p>다음의 PHP 코드는 "webdictionary.txt" 파일을 끝까지 읽는다. :</p>
            <div class="w3-code w3-border notranslate">
              <div> fread($myfile,filesize("webdictionary.txt"));</div>
            </div>
            <br>
            <hr>
            <h2>PHP Close File - fclose()</h2>
            <p><strong>fclose() </strong>함수는 열린 파일을 닫는데 사용된다. </p>
            <div class="w3-panel w3-note">
              <p>&nbsp;모든 파알은 사용 완료 후에 닫는 것이 좋은 습관이다. 당신은 서버에 열린 파일이 자원을 차지하는 것을
                원하지 않을 것입니다!</p>
            </div>
            <p>fclose() 는 닫고자 하는 파일의 이름을(또는 파일이름을 담고있는 변수를) 요구합니다:</p>
            <div class="w3-code w3-border notranslate">
              <div> &lt;?php<br>
                $myfile = fopen("webdictionary.txt", "r");<br>
                // some code to be executed....<br>
                fclose($myfile);<br>
                ?&gt; </div>
            </div>
            <br>
            <hr>
            <h2>PHP Read Single Line - fgets()</h2>
            <p><strong>fgets() </strong>함수는 파일로부터 <strong>한 줄을 읽는데 사용</strong>됩
              니다. </p>
            <p>아래의 예는 "webdictionary.txt" 파일의 첫 번째 줄을 출력합니다:</p>
            <div class="w3-example">
              <h2 class="example">Example</h2>
              <div class="w3-code notranslate"> &lt;?php<br>
                $myfile = fopen("webdictionary.txt", "r") or die("Unable to open
                file!");<br>
                echo fgets($myfile);<br>
                fclose($myfile);<br>
                ?&gt; </div>
              <br>
              <a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_fgets">Run
                example »</a> </div>
            <p><b>Note:</b> fgets() 함수가 호출 된 후, 파일 포인터(file pointer)는 다음 줄로 이동
              합니다.</p>
            <hr>
            <h2>PHP Check End-Of-File - feof()</h2>
            <p><strong>feof() </strong>함수는 <strong>"end-of-file"(EOF)에 도달 했는지를
                검사</strong>합니다. </p>
            <p>feof() 함수는 길이를 알 수 없는 데이타에 반복을 사용할 때 유용합니다.</p>
            <p>아래의 예는 end-of-file 에 도달 할 때까지 "webdictionary.txt" 을 줄 단위로 읽습니다.:</p>
            <div class="w3-example">
              <h2 class="example">Example</h2>
              <div class="w3-code notranslate"> &lt;?php<br>
                $myfile = fopen("webdictionary.txt", "r") or die("Unable to open
                file!");<br>
                // Output one line until end-of-file<br>
                while(!feof($myfile)) {<br>
                &nbsp;&nbsp;echo fgets($myfile) . "&lt;br&gt;";<br>
                }<br>
                fclose($myfile);<br>
                ?&gt; </div>
              <br>
              <a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_feof">Run
                example »</a> </div>
            <br>
            <hr>
            <h2>PHP Read Single Character - fgetc()</h2>
            <p><strong>fgetc() </strong>함수는 파일에서 한 문자를 읽는데 유용합니다. </p>
            <p>다음의 예는 end-of-file 에 도달 할 때까지 "webdictionary.txt" 을 문자 단위로 읽습니다.
              :</p>
            <div class="w3-example">
              <h2 class="example">Example</h2>
              <div class="w3-code notranslate"> &lt;?php<br>
                $myfile = fopen("webdictionary.txt", "r") or die("Unable to open
                file!");<br>
                // Output one character until end-of-file<br>
                while(!feof($myfile)) {<br>
                &nbsp;&nbsp;echo fgetc($myfile);<br>
                }<br>
                fclose($myfile);<br>
                ?&gt; </div>
              <br>
              <a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_fgetc">Run
                example »</a> </div>
            <p><b>Note:</b>&nbsp; fgetc() 함수가 호출 된 후에는, 파일 포인터(file pointer)는 다음
              문자로 이동된다</p>
            <div class="w3-clear nextprev"> <a class="w3-left w3-btn" href="PHP%20include%20and%20require.htm">«
                Previous</a> <a class="w3-right w3-btn" href="PHP%20File%20Create%20Write.html">Next
                Chapter »</a> </div>
            <hr></div>
        </div>
      </div>
    </div>
  </body>
</html>
