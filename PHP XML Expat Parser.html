<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>PHP XML Expat Parser</title>
    <style>a.menu_html_intro{font-weight:bold;}</style>
    <meta name="viewport" content="width=device-width">
    <meta name="Keywords" content="HTML,CSS,XML,JavaScript,DOM,jQuery,ASP.NET,PHP,SQL,colors,tutorial,programming,development,training,learning,quiz,primer,lessons,reference,w3-examples,source code,demos,tips,color table,w3c,cascading style sheets,active server pages,Web building,Webmaster">
    <meta name="Description" content="Free HTML CSS JavaScript DOM jQuery XML AJAX RSS ASP .NET PHP SQL tutorials, references, examples for web building.">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" type="text/css" href="http://www.w3schools.com/stdtheme.css">
  </head>
  <body>
    <div id="belowTopnav" style="width:auto">
      <div id="page" style="width:auto; padding:30px; margin:10px;">
        <div>
          <div id="main" style="width:auto">
            <h1>PHP <span class="color_h1">XML Expat Parser</span></h1>
            <div class="chapter">
              <div class="w3-clear nextprev"> <a class="w3-left w3-btn" href="PHP%20XML%20SimpleXML.html">«
                  Previous</a> <a class="w3-right w3-btn" href="PHP%20XML%20DOM.html">Next
                  Chapter »</a> </div>
            </div>
            <hr>
            <p class="intro">내장되어 있는 Expat 파서(parser)는 PHP 에서 XML 문서를 처리할 수 있게
              해준다.</p>
            <hr>
            <h2>What is Expat?</h2>
            Expat 파서는 이벤트-기반 파서이다.&nbsp;
            <p>이벤트-기반 파서는 XML 문서의 구조가 아니라, 내용에 초점을 둔다. 이 때문에, 이벤트-기반 파서는 트리-기반
              파서 보다도 더 빨리 데이타에 접근할 수 있다.&nbsp;</p>
            <p>다음의 XML 부분을 보시오:</p>
            <div class="w3-code notranslate">
              <div> &lt;from&gt;Jani&lt;/from&gt; </div>
            </div>
            <p>이벤트-기반 파서는 위의 XML을 세 가지 이벤트의 시리즈로 봅니다.: </p>
            <ul>
              <li>요소 시작: from</li>
              <li>CDATA 섹션 시작, 값: Jani</li>
              <li>요소 닫기: from</li>
            </ul>
            <p>위의 XML 예는 잘 구성된(well-formed) XML을 포함합니다. 그러나, 그와 관련된 문서 형식 정의
              (Document Type Definition (DTD))가 존재하지 않기 때문에, 유효한 XML은
              아닙니다.&nbsp;</p>
            <p>그러나, 이것이 Expat 파서를 사용하는 경우에는 차이가 없습니다. Expat 는
              비-검증(non-validating) 파서이며, 어떤 DTDs 도 무시합니다..</p>
            <p>이벤트-기반, 비-검증 XML 파서로써 Expat 은 빠르고, 작아서, PHP 웹 응용에 완벽히
              적합합니다.&nbsp;</p>
            <p><b>Note:</b> XML 문서는 잘-구성되어(well-formed)야 하며, 그렇지 않으면 Expat 는 에러를
              발생 합니다. </p>
            <p>XML Expat 파서 함수는 PHP 코어의 일부 입니다. 이 함수들을 사용하는데 어떤 설치로 필요치
              않습니다.&nbsp; </p>
            <hr>
            <h2>XML File</h2>
            <p>아래의 XML 파일 "<a href="note.xml" target="_blank">note.xml</a>" 은
              우리의 예에서 사용될 겁니다. :</p>
            <div class="w3-code notranslate">
              <div> &lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>
                &lt;note&gt;<br>
                &lt;to&gt;Tove&lt;/to&gt;<br>
                &lt;from&gt;Jani&lt;/from&gt;<br>
                &lt;heading&gt;Reminder&lt;/heading&gt;<br>
                &lt;body&gt;Don't forget me this weekend!&lt;/body&gt;<br>
                &lt;/note&gt; </div>
            </div>
            <br>
            <hr>
            <h2>Initializing the XML Parser</h2>
            <p>우리는 PHP 에서 파서를 초기화 시키고,&nbsp; 서로 다른 XML 이벤트들을 위한 핸들러들을 정의하고 , 그리고
              XML 파일을 분석하려 합니다.&nbsp;</p>
            <h3><b>Example</b></h3>
            <div class="w3-code notranslate">
              <div> &lt;?php<br>
                //Initialize the XML parser<br>
                $parser=xml_parser_create();<br>
                <br>
                //Function to use at the start of an element<br>
                function start($parser,$element_name,$element_attrs)<br>
                &nbsp;&nbsp;{<br>
                &nbsp;&nbsp;switch($element_name)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;case "NOTE":<br>
                &nbsp;&nbsp;&nbsp;&nbsp;echo "-- Note --&lt;br&gt;";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;break;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;case "TO":<br>
                &nbsp;&nbsp;&nbsp;&nbsp;echo "To: ";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;break;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;case "FROM":<br>
                &nbsp;&nbsp;&nbsp;&nbsp;echo "From: ";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;break;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;case "HEADING":<br>
                &nbsp;&nbsp;&nbsp;&nbsp;echo "Heading: ";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;break;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;case "BODY":<br>
                &nbsp;&nbsp;&nbsp;&nbsp;echo "Message: ";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                &nbsp;&nbsp;}<br>
                <br>
                //Function to use at the end of an element<br>
                function stop($parser,$element_name)<br>
                &nbsp;&nbsp;{<br>
                &nbsp;&nbsp;echo "&lt;br&gt;";<br>
                &nbsp;&nbsp;}<br>
                <br>
                //Function to use when finding character data<br>
                function char($parser,$data)<br>
                &nbsp;&nbsp;{<br>
                &nbsp;&nbsp;echo $data;<br>
                &nbsp;&nbsp;}<br>
                <br>
                //Specify element handler<br>
                xml_set_element_handler($parser,"start","stop");<br>
                <br>
                //Specify data handler<br>
                xml_set_character_data_handler($parser,"char");<br>
                <br>
                //Open XML file<br>
                $fp=fopen("note.xml","r");<br>
                <br>
                //Read data<br>
                while ($data=fread($fp,filesize("note  .xml")))<br>
                &nbsp;&nbsp;{<br>
                &nbsp;&nbsp;xml_parse($parser,$data,feof($fp)) or <br>
                &nbsp;&nbsp;die (sprintf("XML Error: %s at line %d", <br>
                &nbsp;&nbsp;xml_error_string(xml_get_error_code($parser)),<br>
                &nbsp;&nbsp;xml_get_current_line_number($parser)));<br>
                &nbsp;&nbsp;}<br>
                <br>
                //Free the XML parser<br>
                xml_parser_free($parser);<br>
                ?&gt; </div>
            </div>
            <p>위의 코드의 출력은&nbsp; 다음과 같을 것이다.:</p>
            <div class="w3-code notranslate">
              <div> -- Note --<br>
                To: Tove<br>
                From: Jani<br>
                Heading: Reminder<br>
                Message: Don't forget me this weekend! </div>
            </div>
            <p>작동되는 방법:</p>
            <ol>
              <li>xml_parser_create() 함수로 XML 파서를 초기화&nbsp; </li>
              <li>서로 다른 이벤트 핸들러에 사용할 함수를 생성.</li>
              <li>파서가 여는/닫는 태그를 만날 때 실행될 함수를 지정하기 위한 xml_set_element_handler()
                함수를 추가 </li>
              <li>파서가 문자 데이타를 만날 때 실행될 함수를 지정하기 위한
                xml_set_character_data_handler() 함수를 추가 </li>
              <li>xml_parse() 함수로 "test.xml" 파일을 분석(Parse)</li>
              <li>에러가 발생할 경우에, XML 에러를 텍스트 설명을로 변환해 줄 xml_error_string() 함수를 추가</li>
              <li>xml_parser_create() 함수에 할당 되었던 메모리를 해제하기 위해서 xml_parser_free()
                함수를 호출&nbsp; </li>
            </ol>
            <hr>
            <h2>More PHP Expat Parser</h2>
            <p>PHP Expat 함수에 대하여 더 자세한 정보를 위해서는 ==&gt; <a href="http://www.w3schools.com/php/php_ref_xml.asp">PHP
                XML Parser Reference</a> 를 방문하시오.<br>
            </p>
            <br>
            <div class="chapter">
              <div class="w3-clear nextprev"> <a class="w3-left w3-btn" href="PHP%20XML%20SimpleXML.html">«
                  Previous</a> <a class="w3-right w3-btn" href="PHP%20XML%20DOM.html">Next
                  Chapter »</a> </div>
            </div>
            <hr> </div>
        </div>
      </div>
      <br>
    </div>
  </body>
</html>
